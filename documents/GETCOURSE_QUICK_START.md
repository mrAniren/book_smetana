# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å GetCourse API

## üìã –ß—Ç–æ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å:
- ‚úÖ **API –∫–ª—é—á** –æ—Ç GetCourse

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

### 1. **–ü–æ–ª—É—á–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ GetCourse:**
1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç GetCourse
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API**
3. –ù–∞–π–¥–∏—Ç–µ:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞** (–∏–∑ URL: `https://–í–ê–®_–ê–ö–ö–ê–£–ù–¢.getcourse.ru`)
   - **API URL** (–æ–±—ã—á–Ω–æ: `https://–í–ê–®_–ê–ö–ö–ê–£–ù–¢.getcourse.ru/pl/api`)

### 2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π–ª .env:**
```env
# GetCourse API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GETCOURSE_ACCOUNT=–≤–∞—à_–∞–∫–∫–∞—É–Ω—Ç_–±–µ–∑_getcourse_ru
GETCOURSE_SECRET_KEY=–≤–∞—à_api_–∫–ª—é—á_–∑–¥–µ—Å—å
GETCOURSE_API_URL=https://–≤–∞—à_–∞–∫–∫–∞—É–Ω—Ç.getcourse.ru/pl/api

# Webhook —Å–µ–∫—Ä–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
GETCOURSE_WEBHOOK_SECRET=–≤–∞—à_webhook_—Å–µ–∫—Ä–µ—Ç_–∑–¥–µ—Å—å
```

### 3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook —Å–µ–∫—Ä–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**

#### **–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ webhooks:**
1. –í–æ–π–¥–∏—Ç–µ –≤ GetCourse ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API ‚Üí Webhooks
2. –°–æ–∑–¥–∞–π—Ç–µ webhook —Å URL: `https://–≤–∞—à_–¥–æ–º–µ–Ω.com/api/getcourse_webhook.php`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
4. –í–≤–µ–¥–∏—Ç–µ –µ–≥–æ –≤ –ø–æ–ª–µ "Webhook —Å–µ–∫—Ä–µ—Ç" –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

#### **–ï—Å–ª–∏ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ webhooks:**
- –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ "Webhook —Å–µ–∫—Ä–µ—Ç" –ø—É—Å—Ç—ã–º
- –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç GetCourse

### 4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**
```bash
php test_getcourse.php
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å GetCourse API
============================================================
‚öôÔ∏è –¢–µ—Å—Ç 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...
üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∏ GetCourse:
   Account: –≤–∞—à_–∞–∫–∫–∞—É–Ω—Ç ‚úÖ
   API URL: https://–≤–∞—à_–∞–∫–∫–∞—É–Ω—Ç.getcourse.ru/pl/api ‚úÖ
   Secret Key: ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
   Webhook Secret: ‚ö†Ô∏è –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞

üîç –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ GetCourse API...
‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ! –ü–æ–ª—É—á–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 1

============================================================
üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:
============================================================
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è        : ‚úÖ PASS
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ         : ‚úÖ PASS
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ‚úÖ PASS
–°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏     : ‚úÖ PASS
–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è  : ‚úÖ PASS
–û–±—Ä–∞–±–æ—Ç–∫–∞ webhook   : ‚úÖ PASS
============================================================
üéØ –ò–¢–û–ì–û: 6/6 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ
============================================================
üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
```

## üö® –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç:

### –û—à–∏–±–∫–∞ "Invalid API key":
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –û—à–∏–±–∫–∞ "Account not found":
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ .env
- URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `https://–í–ê–®_–ê–ö–ö–ê–£–ù–¢.getcourse.ru`

### –û—à–∏–±–∫–∞ "Permission denied":
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É API –∫–ª—é—á–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞:
  - –ß—Ç–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–æ–∫

### –û—à–∏–±–∫–∞ "Webhook —Å–µ–∫—Ä–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω":
- **–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** Webhook —Å–µ–∫—Ä–µ—Ç –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ï—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ webhooks - –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–µ –ø—É—Å—Ç—ã–º
- –°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ `GETCOURSE_WEBHOOK_SETUP.md`

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhooks** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```env
   GETCOURSE_WEBHOOK_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
   ```bash
   php scripts/sync_getcourse_users.php
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:**
   ```bash
   # –î–æ–±–∞–≤—å—Ç–µ –≤ crontab
   0 2 * * * php /path/to/scripts/sync_getcourse_users.php
   ```

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **GETCOURSE_SETUP_GUIDE.md** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- **SERVER_DATA_GUIDE.md** - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- **API_EXAMPLES.md** - –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤

**–£–¥–∞—á–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏! üéâ**
